# n8n - Product Requirements Document

## Overview

Production-grade n8n installation on local WSL2 Ubuntu using Docker Compose with PostgreSQL, Redis, and worker scaling for maximum performance.

## Goals

1. Set up a performant, production-ready n8n instance on WSL2 Ubuntu
2. Configure queue mode with Redis for distributed workflow execution
3. Implement PostgreSQL backend for reliable data persistence
4. Enable worker scaling for parallel workflow processing
5. Establish backup, monitoring, and maintenance procedures

## Phases

| Phase | Name | Sessions | Status |
|-------|------|----------|--------|
| 00 | Foundation & Prerequisites | TBD | Not Started |

## Phase 00: Foundation & Prerequisites

### Objectives

1. Verify and configure WSL2 environment for optimal performance
2. Install and configure Docker Engine (not Docker Desktop)
3. Create project directory structure and configuration files
4. Set up PostgreSQL and Redis containers with health checks
5. Deploy n8n main instance and worker(s) with queue mode

### Sessions (To Be Defined)

Use `/nextsession` to get recommendations for sessions to implement.

## Technical Stack

- **Runtime**: Docker Compose on WSL2 Ubuntu (22.04/24.04 LTS)
- **Database**: PostgreSQL 16 (Alpine)
- **Queue/Broker**: Redis 7 (Alpine)
- **Application**: n8n 2.0+ (Community Edition)
- **Execution Mode**: Queue mode with scalable workers

## Architecture

```
WSL2 Ubuntu
+-- Docker Compose Stack
    +-- PostgreSQL 16 (persistent storage)
    +-- Redis 7 (message broker)
    +-- n8n Main (UI + webhooks + triggers, port 5678)
    +-- n8n Worker(s) (scalable, execute workflows)
```

## Success Criteria

- [ ] All Docker containers running and healthy
- [ ] n8n accessible at http://localhost:5678
- [ ] Queue mode functioning with worker(s) processing jobs
- [ ] PostgreSQL storing workflow data reliably
- [ ] Backup script operational and scheduled
- [ ] Performance metrics accessible via /metrics endpoint
